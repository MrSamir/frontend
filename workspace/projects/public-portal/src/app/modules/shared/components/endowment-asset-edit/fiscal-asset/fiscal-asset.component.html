<div class="row row-cols-1 row-cols-md-2">
  <div class="form-group col">
    <label class="col-form-label">{{
      "EndowmentModule.EndowmentRgistrationService.AssetFiscalClassificationType"
      | localize
      }}<span *ngIf="!viewOnly" class="text-danger">*</span></label>
      <p-dropdown [required]="true" [options]="assetSubTypes" [hidden]="viewOnly" [showClear]="true" name="assetSubTypeId"
      #assetSubTypeId="ngModel"
      [(ngModel)]="assetInfoModel!.assetSubTypeId" optionLabel="name" optionValue="id"
      [placeholder]="
        l(
          'Common.Choose',
          l('EndowmentModule.EndowmentRgistrationService.AssetBusinessSubType')
        )
      " (onChange)="subTypeChanged()"></p-dropdown>
      <div>
        <label class="col-form-label font-weight-bold" *ngIf="viewOnly">&nbsp;{{
          getLookUpValue(assetInfoModel!.assetSubTypeId) }}
        </label>
      </div>
    <app-validationMessages relatedControlName="assetSubTypeId"
      [control]="assetSubTypeId" [validationMessages]="[
        {
          ruleName: 'required',
          ruleMessage: l(
            'Common.Required',
            l('EndowmentModule.EndowmentRgistrationService.AssetBusinessSubType')
          )
        }
      ]">
    </app-validationMessages>
  </div>
  <div class="form-group col" *ngIf="assetInfoModel.assetSubTypeId == 12">
    <label class="col-form-label"
      >{{
        "EndowmentModule.EndowmentRgistrationService.AssetSubTypeDescriptionLabel"
          | localize
      }}<span *ngIf="!viewOnly" class="text-danger">*</span></label
    >
    <input
      type="text"
      class="form-control"
      [minLength]="1"
      [maxLength]="250"
      [hidden]="viewOnly"
      [pattern]="
        ePatternValidation.pattern_arabic_english_any_char_with_space_without_numbers
      "
      #assetSubTypeDescription="ngModel"
      name="assetSubTypeDescription"
      [(ngModel)]="assetInfoModel!.assetSubTypeDescription"
      required
    />

    <label class="col-form-label font-weight-bold" *ngIf="viewOnly"
      >&nbsp;{{ assetInfoModel!.assetSubTypeDescription }}
    </label>

    <div
      *ngIf="
      assetSubTypeDescription.invalid &&
        (assetSubTypeDescription.dirty ||
        assetSubTypeDescription.touched)
      "
      class=""
    >
      <p
        *ngIf="assetSubTypeDescription.errors?.['required']"
        class="text-danger pt-1 small"
      >
        {{
          "EndowmentModule.EndowmentRgistrationService.AssetSubTypeDescriptionRequired"
            | localize
        }}
      </p>

      <p
        *ngIf="assetSubTypeDescription.errors?.['pattern']"
        class="text-danger pt-1 small"
      >
        {{
          "EndowmentModule.EndowmentRgistrationService.AssetBusinessCharacterValidation"
            | localize
        }}
      </p>
    </div>
  </div>
  <div class="form-group col" *ngIf="assetInfoModel.assetSubTypeId !== undefined">
    <label class="col-form-label">
      {{ numberOfshareLable }}
      <span *ngIf="!viewOnly" class="text-danger">*</span></label>
    <input type="text" class="form-control" [hidden]="viewOnly" [minLength]="1" [maxLength]="10"
      #numberOfShare="ngModel"
      onkeypress="return event.charCode == 8 || event.charCode == 0 ? null : event.charCode >= 48 && event.charCode <= 57"
      name="numberOfShare" [(ngModel)]="assetInfoModel.fiscalAsset.numberOfShare"
      [pattern]="ePatternValidation.pattern_number" required />
    <label class="col-form-label font-weight-bold" *ngIf="viewOnly">&nbsp;{{
      assetInfoModel.fiscalAsset.numberOfShare }}
    </label>
    <div *ngIf="
        numberOfShare.invalid && (numberOfShare.dirty || numberOfShare.touched)
      " class="">
      <p *ngIf="numberOfShare.errors?.['required']" class="text-danger pt-1 small">
        {{ numberOfshareLable }} مطلوب
      </p>
      <p *ngIf="numberOfShare.errors?.['pattern']" class="text-danger pt-1 small">
        يجب ان يكون {{ numberOfshareLable }} ارقاما
      </p>
    </div>
  </div>
  <div class="form-group col" *ngIf="assetInfoModel.assetSubTypeId !== undefined">
    <label class="col-form-label">{{
      "EndowmentModule.EndowmentRgistrationService.AssetFiscalinvestmentPortfolioNumberLabel"
      | localize
      }}
      <span *ngIf="!viewOnly" class="text-danger">*</span></label>
    <input type="text" class="form-control" [hidden]="viewOnly" [minLength]="1" [maxLength]="20"
      #investmentPortfolioNumber="ngModel"
      onkeypress="return event.charCode == 8 || event.charCode == 0 ? null : event.charCode >= 48 && event.charCode <= 57"
      name="investmentPortfolioNumber" [(ngModel)]="assetInfoModel.fiscalAsset.investmentPortfolioNumber"
      [pattern]="ePatternValidation.pattern_number" required />
    <label class="col-form-label font-weight-bold" *ngIf="viewOnly">&nbsp;{{
      assetInfoModel.fiscalAsset.investmentPortfolioNumber }}
    </label>
    <div *ngIf="
        investmentPortfolioNumber.invalid &&
        (investmentPortfolioNumber.dirty || investmentPortfolioNumber.touched)
      " class="">
      <p *ngIf="investmentPortfolioNumber.errors?.['required']" class="text-danger pt-1 small">
        {{
        "EndowmentModule.EndowmentRgistrationService.AssetFiscalinvestmentPortfolioNumberRequired"
        | localize
        }}
      </p>
      <p *ngIf="investmentPortfolioNumber.errors?.['pattern']" class="text-danger pt-1 small">
        {{
        "EndowmentModule.EndowmentRgistrationService.AssetFiscalinvestmentPortfolioNumberDigitalvalidation"
        | localize
        }}
      </p>
    </div>
  </div>
  <div class="form-group col" *ngIf="assetInfoModel.assetSubTypeId !== undefined">
    <label name="currentAssetValuelbl" class="col-form-label">{{ currentassetvalueLabel
      }}<span *ngIf="!viewOnly" class="text-danger">*</span></label>
    <input type="text" class="form-control" [hidden]="viewOnly" [minLength]="1" [maxLength]="15"
      #currentAssetValue="ngModel"
      onkeypress="return event.charCode == 8 || event.charCode == 0 ? null : event.charCode >= 45 && event.charCode <= 57"
      name="currentAssetValue" [(ngModel)]="assetInfoModel.fiscalAsset.currentAssetValue"
      [pattern]="ePatternValidation.pattern_decimal_values" required />
    <label class="col-form-label font-weight-bold" *ngIf="viewOnly">&nbsp;{{
      assetInfoModel.fiscalAsset.currentAssetValue }}
    </label>
    <div *ngIf="
        currentAssetValue.invalid &&
        (currentAssetValue.dirty || currentAssetValue.touched)
      " class="">
      <p *ngIf="currentAssetValue.errors?.['required']" class="text-danger pt-1 small">
        {{
        "EndowmentModule.EndowmentRgistrationService.AssetFiscalRequiredValidationLabel"
        | localize
        }}
      </p>
      <p *ngIf="currentAssetValue.errors?.['pattern']" class="text-danger pt-1 small">
        {{
        "EndowmentModule.EndowmentRgistrationService.AssetFiscalNumberValidationLabel"
        | localize
        }}
      </p>
    </div>
  </div>

  <div class="form-group col-12" *ngIf="assetInfoModel.assetSubTypeId !== undefined">

    <div class="input-group mb-3 download p-2">
      <div class="flex-grow-1">
        <lib-file-uploader name="fiscalAssetRegisterAttachement"
          [fileLabel]="assetAttachementLable" *ngIf="!fiscalAssetAttachemt"
          [showDisclaimer]="true" (OnSelectFile)="fiscalAssetSelect($event)"
          (OnUploadFile)="fiscalAssetUpload($event)"></lib-file-uploader>
        <input type="hidden" #fiscalAssetRegisterAttachementId="ngModel" name="fiscalAssetAttachementId"
          [(ngModel)]="
      assetInfoModel.fiscalAsset.fiscalAssetAttachementId
      " required />
        <app-validationMessages relatedControlName="fiscalAssetAttachementId"
          [control]="fiscalAssetRegisterAttachementId" [validationMessages]="[
        {
          ruleName: 'required',
          ruleMessage: assetAttachementLable
        }
      ]">
        </app-validationMessages>
        <div *ngIf="assetInfoModel.fiscalAsset.fiscalAssetAttachementId" class="form-group col-12">
          <app-AttachmentViewer *ngIf="fiscalAssetAttachemt" [DownloadButtonLabel]="'Common.DownLoad' | localize" [DeleteButtonLabel]="'Common.Delete' | localize" [ViewButtonLabel]="'Common.View' | localize"
            (OnAttachementRemove)="fiscalAssetRemoveFile($event)"
            [Attachements]="[fiscalAssetAttachemt]"></app-AttachmentViewer>
        </div>
      </div>
    </div>
  </div>





</div>
